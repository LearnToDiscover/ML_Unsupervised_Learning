<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Data Handling: DataFrames - Part 1</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav l2d"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="l2d" src="assets/images/l2d-logo.svg"></div>
    </div>
    <div class="selector-container">


      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/01-data_frames_1.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav l2d" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="l2d" src="assets/images/l2d-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Data Handling
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Data Handling
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"></ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Data Handling
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 0%" class="percentage">
    0%
  </div>
  <div class="progress l2d">
    <div class="progress-bar l2d" role="progressbar" style="width: 0%" aria-valuenow="0" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar" style="display: flex">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle sticky-top" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner sticky-top">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/01-data_frames_1.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        1. DataFrames - Part 1
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#challenge-the-diabetes-dataset">Challenge: The diabetes dataset</a></li>
<li><a href="#work-through-example">Work-Through Example</a></li>
<li><a href="#accessing-data-in-a-dataframe">Accessing data in a DataFrame</a></li>
<li><a href="#basic-data-features">Basic data features:</a></li>
<li><a href="#visualisation-of-data">Visualisation of data</a></li>
<li><a href="#plots-using-matplotlib">Plots using Matplotlib</a></li>
<li><a href="#handling-the-diabetes-dataset">Handling the Diabetes Dataset</a></li>
<li><a href="#exercises">Exercises</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-data_frames_2.html">2. DataFrames - Part 2</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-image_handling.html">3. Image Handling</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>

                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="index.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="02-data_frames_2.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="index.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Home
        </a>
        <a class="chapter-link float-end" href="02-data_frames_2.html" rel="next">
          Next: DataFrames - Part 2...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>DataFrames - Part 1</h1>
        <p>Last updated on 2024-12-08 |

        <a href="https://github.com/carpentries/workbench-template-rmd/edit/main/episodes/01-data_frames_1.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<p><a href="https://drive.usercontent.google.com/u/1/uc?id=1BwmP3qeemi5YFkTGMw-r8-z6L15_gE2B&amp;export=download" class="external-link"><strong>Download
chapter PDF (.pdf).</strong></a></p>
<p><a href="https://drive.usercontent.google.com/u/1/uc?id=10T_wlrFbCu1ijkIc3QtrPUpi4k2oAxBA&amp;export=download" class="external-link"><strong>Download
chapter notebook (.ipynb).</strong></a></p>
<p><a href="https://docs.google.com/forms/d/e/1FAIpQLSdr0capF7jloJhPH3Pki1B3LZoKOG16poOpuVJ7SL2LkwLHQA/viewform?pli=1" class="external-link"><span style="color: rgb(255, 0, 0);"><strong>Mandatory Lesson Feedback
Survey</strong></span></a></p>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>What is a Dataframe, and how can we read data into one?</li>
<li>What are the different methods for manipulating data in
Dataframes?</li>
<li>What makes data visualisation simple, in Python?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Import a dataset as a Pandas Dataframe</li>
<li>Inspect a Dataframe and access data</li>
<li>Produce an overview of data features</li>
<li>Create data plots using Matplotlib</li>
</ul></div>
</div>
</div>
</div>
</div>
<br><p align="center">
<iframe width="560" height="315" src="https://www.youtube.com/embed/jdWOAzK81VE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</p>
<p><br></p>
<p align="center">
<iframe width="560" height="315" src="https://www.youtube.com/embed/zw6t3yHEqGU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</p>
<p><br></p>
<p align="center">
<iframe width="560" height="315" src="https://www.youtube.com/embed/mljXcIzx4ps" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</p>
<p><br></p>
<div id="prerequisites" class="callout prereq">
<div class="callout-square">
<i class="callout-icon" data-feather="check"></i>
</div>
<div id="prerequisites" class="callout-inner">
<h3 class="callout-title">Prerequisites</h3>
<div class="callout-content">
<ul><li><a href="https://github.com/L2D-July2024-Part-I/Basic_Python/04-arrays.html#sec:list:indexing" class="external-link">Indexing
of arrays</a></li>
<li><a href="https://github.com/L2D-July2024-Part-I/Basic_Python/05-iterations.html#retaining-the-new-values" class="external-link">For-loop
through an array</a></li>
<li>Basic statistics (distributions, mean, median and standard
deviation)</li>
</ul></div>
</div>
</div>

<section><h2 class="section-heading" id="challenge-the-diabetes-dataset">Challenge: The diabetes dataset<a class="anchor" aria-label="anchor" href="#challenge-the-diabetes-dataset"></a></h2>
<hr class="half-width"><p style="text-align: justify;">
Here is a screenshot of a diabetes dataset. It is taken from <a href="https://www4.stat.ncsu.edu/~boos/var.select/diabetes.tab.txt" class="external-link">this
webpage</a>, and is one of the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.datasets.load_diabetes.html" class="external-link">example
datasets</a> used to illustrate machine learning functionality in
scikit-learn (Part II of the L2D course).
</p>
<figure><img src="fig/diabetes_data_screenshot.png" title="Screenshot of Diabetes Data" class="figure mx-auto d-block"></figure><p style="text-align: justify;">
This figure captures only the top part of the data. On the webpage, you
will need to scroll down considerably to view all of it. Thus, our first
data science task, will be to obtain an overview of this datset.
</p>
<div id="the-lesson" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="the-lesson" class="callout-inner">
<h3 class="callout-title">The lesson</h3>
<div class="callout-content">
<ul><li>Introduces code to read and inspect the data</li>
<li>Works with a specific Dataframe and explains methods used to get an
overview of the data</li>
<li>Discusses the concept of ‘distribution’ as a way of summarising data
within a single figure</li>
</ul><div id="to-familiarise-yourself-with-a-dataset-you-need-to" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="to-familiarise-yourself-with-a-dataset-you-need-to" class="callout-inner">
<h3 class="callout-title">To familiarise yourself with a dataset you need to:</h3>
<div class="callout-content">
<ul><li>Access the data</li>
<li>Check the content</li>
<li>Produce a summary of basic properties</li>
</ul></div>
</div>
</div>
<p style="text-align: justify;">
In this lesson we will look solely at univariate features, where each
data columns are studied independently of the others in the datasets.
Further properties and bivariate features will be the topic of the next
lesson.
</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="work-through-example">Work-Through Example<a class="anchor" aria-label="anchor" href="#work-through-example"></a></h2>
<hr class="half-width"><div id="reading-data-into-a-pandas-dataframe" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="reading-data-into-a-pandas-dataframe" class="callout-inner">
<h3 class="callout-title">Reading data into a Pandas DataFrame</h3>
<div class="callout-content">
<p style="text-align: justify;">
The small practice data file for this section is called
‘everleys_data.csv’, and can be downloaded using the link given above in
<a href="index.html#setup">Summary and Setup</a> for this Lesson. To start,
please create a subfolder called ‘data’ in the current directory and put
the data file in it. It can now be accessed using the relative path
<code>data/everleys_data.csv</code> or
<code>data\everleys_data.csv</code>, respectively.
</p>
<p style="text-align: justify;">
The file <code>everleys_data.csv</code> contains serum concentrations of
calcium and sodium ions, sampled from 17 patients with Everley’s
syndrome - a rare genetic disorder that results in sufferers
experiencing developmental delays, intellectual and physical
abnormalities. The data are taken from a <a href="https://www.bmj.com/about-bmj/resources-readers/publications/statistics-square-one/7-t-tests" class="external-link">BMJ
statistics tutorial</a>, and are stored as comma-separated values (csv):
with two values given for each patient.
</p>
<p style="text-align: justify;">
To get to know a dataset, we will use the Pandas package and the
Matplotlib plotting library. The Pandas package for data science is
included in the Anaconda distribution of Python. Check this <a href="https://pandas.pydata.org/getting_started.html" class="external-link">link for
installation instructions</a> to get started.
</p>
<p>If you are not using the Anaconda distribution, please refer to <a href="https://pandas.pydata.org/docs/getting_started/install.html" class="external-link">these
guidelines</a>.</p>
<p style="text-align: justify;">
In order to use the functions contained in Pandas, they must first to be
imported. Since our dataset is in a ‘.csv’ file, we must first read it
from a csv file. For this, we must import the function
<code>read_csv</code>, which will create a <em>Pandas DataFrame</em>
from data provided in a ‘.csv’ file.
</p>
</div>
</div>
</div>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="im">from</span> pandas <span class="im">import</span> read_csv</span></code></pre>
</div>
<p style="text-align: justify;">
Executing this code does not lead to any output on the screen. However,
the function is now ready to be used. To use it, we type its name and
provide the required arguments. The following code should import the
Everley’s data into your Python Notebook:
</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># For Mac OS X and Linux:</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co"># (please go to the next cell if using Windows)</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>df <span class="op">=</span> read_csv(<span class="st">"data/everleys_data.csv"</span>)</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># For Windows:</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co"># df = read_csv("data\everleys_data.csv")</span></span></code></pre>
</div>
<p style="text-align: justify;">
Note the orientation of backward and forward slashes that differentiate
filepaths given between Unix-based systems, and Windows. This code uses
the <code>read_csv</code> function from Pandas to read data from a data
file, in this case a file with extension ‘.csv’. Note that the location
of the data file is specified within quotes by the relative path to the
subfolder ‘data’, followed by the file name. Use your file browser or
the browser in JupyterLab (or an ‘Explorer’-type pane in your IDE of
choice) to check that subfolder does indeed exists, and contains the
file within it.
</p>
<figure><img src="fig/subfolder_data.png" title="Screenshot of subfolder 'data'" class="figure mx-auto d-block"></figure><p>After execution of the code, the data are contained in a variable
called <code>df</code>. This is a structure referred to as a Pandas
<em>DataFrame</em>.</p>
<blockquote>
<p>A <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/dsintro.html#dataframe" class="external-link"><strong>Pandas
DataFrame</strong></a> is a 2-dimensional labelled data structure, with
columns of (potentially different) types. You can think of it as a
spreadsheet.</p>
</blockquote>
<p>To see the contents of <code>df</code>, simply use:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>df</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>     calcium      sodium
0   3.455582  112.690980
1   3.669026  125.663330
2   2.789910  105.821810
3   2.939900   98.172772
4   5.426060   97.931489
5   0.715811  120.858330
6   5.652390  112.871500
7   3.571320  112.647360
8   4.300067  132.031720
9   1.369419  118.499010
10  2.550962  117.373730
11  2.894129  134.052390
12  3.664987  105.346410
13  1.362779  123.359490
14  3.718798  125.021060
15  1.865868  112.075420
16  3.272809  117.588040
17  3.917591  101.009870</code></pre>
</div>
<p>(Compare with the result of <code>print(df)</code> which displays the
contents in a different format.)</p>
<p style="text-align: justify;">
The output shows in the first column an index, integers from 0 to 17;
and the calcium and sodium concentrations in columns 2 and 3,
respectively. The default indexing starts from zero (Python is a
‘zero-based’ programming language).
</p>
<p style="text-align: justify;">
In a DataFrame, the first column is referred to as <em>Indices</em>, the
first row is referred to as <em>Labels</em>. Note that the row with the
labels is excluded from the row count. Similarly, the row with the
indices is excluded from the column count.
</p>
<p>For large datasets, the function <code>head</code> is a convenient
way to get a feel of the dataset.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>df.head()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>    calcium      sodium
0  3.455582  112.690980
1  3.669026  125.663330
2  2.789910  105.821810
3  2.939900   98.172772
4  5.426060   97.931489</code></pre>
</div>
<p style="text-align: justify;">
Without any input argument, this displays the first five data lines of
data i the newly-created DataFrame. You can specify and alter the number
of rows displayed by including a single integer as argument,
e.g. <code>head(10)</code>.
</p>
<p style="text-align: justify;">
If you feel there are too many decimal places in the default view, you
can restrict their number by using the <code>round</code> method. The
numerical argument that you provide in the round parentheses controls
the number of decimal places the method rounds to, with digits up to 5
being rounded down, and above (and inclusive of) 5, being rounded up:
</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>df.head().<span class="bu">round</span>(<span class="dv">2</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   calcium  sodium
0     3.46  112.69
1     3.67  125.66
2     2.79  105.82
3     2.94   98.17
4     5.43   97.93</code></pre>
</div>
<p style="text-align: justify;">
While it is possible to see how many rows there are in a DataFrame by
displaying the whole DataFrame and looking at the last index, there is a
convenient way to obtain this number, directly:
</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>no_rows <span class="op">=</span> <span class="bu">len</span>(df)</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'DataFrame has'</span>, no_rows, <span class="st">'rows'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>DataFrame has 18 rows</code></pre>
</div>
<p>You could see above, that the columns of the DataFrame have labels.
To see all labels:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>column_labels <span class="op">=</span> df.columns</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a><span class="bu">print</span>(column_labels)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Index(['calcium', 'sodium'], dtype='object')</code></pre>
</div>
<p>Now we can count the labels to obtain the number of columns:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>no_columns <span class="op">=</span> <span class="bu">len</span>(column_labels)</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'DataFrame has'</span>, no_columns, <span class="st">'columns'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>DataFrame has 2 columns</code></pre>
</div>
<p style="text-align: justify;">
And if you want to have both the number of the rows and the number
columns displayed together, you can use the <code>shape</code> method.
Shape returns a tuple of two numbers: the first is the number of rows,
and the second is the number of columns.
</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>df_shape <span class="op">=</span> df.shape</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'DataFrame has'</span>, df_shape[<span class="dv">0</span>], <span class="st">'rows and'</span>,df_shape[<span class="dv">1</span>],  <span class="st">'columns'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>DataFrame has 18 rows and 2 columns</code></pre>
</div>
<p>Notice that <code>shape</code> (like <code>columns</code>) is not
followed by round parentheses. It is not a function that can take
arguments. Technically, <code>shape</code> is a ‘property’ of the
DataFrame.</p>
<p>To find out what data type is contained in each of the columns, us
<code>dtypes</code>, another ‘property’:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>df.dtypes</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>calcium    float64
sodium     float64
dtype: object</code></pre>
</div>
<p>In this case, both columns contain floating point (decimal)
numbers.</p>
<div id="practice-exercise-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="practice-exercise-1" class="callout-inner">
<h3 class="callout-title">Practice Exercise 1</h3>
<div class="callout-content">
<p><strong>Read data into a DataFrame</strong></p>
<p style="text-align: justify;">
Download the data file ‘loan_data.csv’ using the link given above in <a href="index.html#setup">Summary and Setup</a> for this Lesson”. It contains
data that can be used for the assessment of loan applications. Read the
data into a DataFrame. It is best to assign it a name other than ‘df’
(to avoid overwriting the Evereley dataset).
</p>
<p style="text-align: justify;">
Display the first ten rows of the Loan dataset to see its contents. It
is taken from a <a href="https://www.analyticsvidhya.com/blog/2016/01/complete-tutorial-learn-data-science-python-scratch-2/" class="external-link">tutorial
on Data Handling in Python</a> which you might find useful for further
practice.
</p>
<blockquote>
<p>From this exercise we can see that a DataFrame can contain different
types of data: real numbers (e.g. LoanAmount), integers
(ApplicantIncome), categorical data (Gender), and strings (Loan_ID).</p>
</blockquote>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="im">from</span> pandas <span class="im">import</span> read_csv</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="co"># dataframe from .csv file</span></span>
<span id="cb20-3"><a href="#cb20-3" tabindex="-1"></a>df_loan <span class="op">=</span> read_csv(<span class="st">"data/loan_data.csv"</span>)</span>
<span id="cb20-4"><a href="#cb20-4" tabindex="-1"></a><span class="co"># display contents</span></span>
<span id="cb20-5"><a href="#cb20-5" tabindex="-1"></a>df_loan.head(<span class="dv">10</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>    Loan_ID  Gender Married  ... Loan_Amount_Term Credit_History Property_Area
0  LP001015    Male     Yes  ...            360.0            1.0         Urban
1  LP001022    Male     Yes  ...            360.0            1.0         Urban
2  LP001031    Male     Yes  ...            360.0            1.0         Urban
3  LP001035    Male     Yes  ...            360.0            NaN         Urban
4  LP001051    Male      No  ...            360.0            1.0         Urban
5  LP001054    Male     Yes  ...            360.0            1.0         Urban
6  LP001055  Female      No  ...            360.0            1.0     Semiurban
7  LP001056    Male     Yes  ...            360.0            0.0         Rural
8  LP001059    Male     Yes  ...            240.0            1.0         Urban
9  LP001067    Male      No  ...            360.0            1.0     Semiurban

[10 rows x 12 columns]</code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="accessing-data-in-a-dataframe">Accessing data in a DataFrame<a class="anchor" aria-label="anchor" href="#accessing-data-in-a-dataframe"></a></h2>
<hr class="half-width"><p style="text-align: justify;">
If a datafile is large and you only want to check the format of data in
a specific column, you can limit the display to that column. To access
data contained in a specific column of a DataFrame, we can use a similar
convention as in a Python dictionary, treating the column names as
‘keys’. E.g. to show all rows in column ‘Calcium’, use:
</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a>df[<span class="st">'calcium'</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0     3.455582
1     3.669026
2     2.789910
3     2.939900
4     5.426060
5     0.715811
6     5.652390
7     3.571320
8     4.300067
9     1.369419
10    2.550962
11    2.894129
12    3.664987
13    1.362779
14    3.718798
15    1.865868
16    3.272809
17    3.917591
Name: calcium, dtype: float64</code></pre>
</div>
<p>To access individual rows of a column we use two pairs of square
brackets:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a>df[<span class="st">'calcium'</span>][<span class="dv">0</span>:<span class="dv">3</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0    3.455582
1    3.669026
2    2.789910
Name: calcium, dtype: float64</code></pre>
</div>
<p style="text-align: justify;">
Here all rules for <a href="https://docs.python.org/3/tutorial/introduction.html" class="external-link">slicing</a>
can be applied. As for lists and tuples, the indexing of rows is
semi-inclusive, with the lower boundary included and upper boundary
excluded. Note that the first pair of square brackets refers to columns,
and the second pair refers to the rows. However, this is different from
accessing items in a nested list, for instance.
</p>
<p>Accessing items in a Pandas DataFrame is analogous to accessing the
values in a Python dictionary by referring to its keys.</p>
<p>To access non-contiguous elements, we use an additional pair of
square brackets (as if for a list within a list):</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a>df[<span class="st">'calcium'</span>][[<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">7</span>]]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>1    3.669026
3    2.939900
7    3.571320
Name: calcium, dtype: float64</code></pre>
</div>
<p style="text-align: justify;">
</p>
<p>Another method for indexing and slicing a DataFrame is to use the
‘index location’ or <code>iloc</code> property. Note that properties in
Python differ from methods. Syntactically, they use the same dot
notation we are accustomed to with methods, but they differ in their use
of square brackets, rather than the round parentheses that methods
operate with. A property also refers directly to a specific
<strong>attribute</strong> of an object.</p>
In this example <code>iloc</code> refers first to the rows of data, and
then to columns - by index; all contained within a single pair of
brackets. For example, to obtain all the rows of the first column (index
<code>0</code>), you use:

<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a>df.iloc[:, <span class="dv">0</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0     3.455582
1     3.669026
2     2.789910
3     2.939900
4     5.426060
5     0.715811
6     5.652390
7     3.571320
8     4.300067
9     1.369419
10    2.550962
11    2.894129
12    3.664987
13    1.362779
14    3.718798
15    1.865868
16    3.272809
17    3.917591
Name: calcium, dtype: float64</code></pre>
</div>
<p>To display only the first three calcium concentrations, slicing is
used: note that the upper boundary is excluded):</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>df.iloc[<span class="dv">0</span>:<span class="dv">3</span>, <span class="dv">0</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0    3.455582
1    3.669026
2    2.789910
Name: calcium, dtype: float64</code></pre>
</div>
<p>To access non-consecutive values, we can use a pair of square
brackets within the outer pair of square brackets:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a>df.iloc[[<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">7</span>], <span class="dv">0</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>2    2.78991
4    5.42606
7    3.57132
Name: calcium, dtype: float64</code></pre>
</div>
<p>Similarly, we can access values from multiple columns:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>df.iloc[[<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">7</span>], :]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>   calcium      sodium
2  2.78991  105.821810
4  5.42606   97.931489
7  3.57132  112.647360</code></pre>
</div>
<p>To pick only the even rows from the two columns, note the following
colon notation:</p>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a>df.iloc[:<span class="dv">18</span>:<span class="dv">2</span>, :]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>     calcium      sodium
0   3.455582  112.690980
2   2.789910  105.821810
4   5.426060   97.931489
6   5.652390  112.871500
8   4.300067  132.031720
10  2.550962  117.373730
12  3.664987  105.346410
14  3.718798  125.021060
16  3.272809  117.588040</code></pre>
</div>
<p>The number after the second colon indicates the
<em>stepsize</em>.</p>
<div id="practice-exercise-2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="practice-exercise-2" class="callout-inner">
<h3 class="callout-title">Practice Exercise 2</h3>
<div class="callout-content">
<p><strong>Select data from DataFrame</strong></p>
<p>Display the calcium and sodium concentrations of all patients -
except the first. Check the model solution at the bottom for
options.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a>df[[<span class="st">'calcium'</span>, <span class="st">'sodium'</span>]][<span class="dv">1</span>:]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>     calcium      sodium
1   3.669026  125.663330
2   2.789910  105.821810
3   2.939900   98.172772
4   5.426060   97.931489
5   0.715811  120.858330
6   5.652390  112.871500
7   3.571320  112.647360
8   4.300067  132.031720
9   1.369419  118.499010
10  2.550962  117.373730
11  2.894129  134.052390
12  3.664987  105.346410
13  1.362779  123.359490
14  3.718798  125.021060
15  1.865868  112.075420
16  3.272809  117.588040
17  3.917591  101.009870</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Mixing the different methods of accessing specific data in a
DataFrame can be confusing, and requires practice and diligence.</p>
<div class="section level3">
<h3 id="search-for-missing-values"><strong>Search for missing values</strong><a class="anchor" aria-label="anchor" href="#search-for-missing-values"></a></h3>
<p>Some tables contain missing entries. You can check a DataFrame for
such missing entries. If no missing entry is found, the function
<code>isnull</code> will return <code>False</code>.</p>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a>df.isnull().<span class="bu">any</span>()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>calcium    False
sodium     False
dtype: bool</code></pre>
</div>
<p>This shows that there are no missing entries in our DataFrame.</p>
<div id="practice-exercise-3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="practice-exercise-3" class="callout-inner">
<h3 class="callout-title">Practice Exercise 3</h3>
<div class="callout-content">
<p><strong>Find NaN in DataFrame</strong></p>
<p>In the Loan dataset, check the entry ‘Self-employed’ for ID LP001059.
It shows how a missing value is represented as ‘NaN’ (not a number).</p>
<p>Verify that the output of <code>isnull</code> in this case is
<code>True</code></p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a>df_loan[<span class="st">'Self_Employed'</span>][<span class="dv">8</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">nan</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a>df_loan[<span class="st">'Self_Employed'</span>][<span class="dv">8</span>:<span class="dv">9</span>].isnull()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>8    True
Name: Self_Employed, dtype: bool</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="basic-data-features">Basic data features:<a class="anchor" aria-label="anchor" href="#basic-data-features"></a></h2>
<hr class="half-width"><div class="section level3">
<h3 id="summary-statistics"><strong>Summary Statistics</strong><a class="anchor" aria-label="anchor" href="#summary-statistics"></a></h3>
<p>To get a summary of basic data features, it is possible to use the
function <code>describe</code>:</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a>description <span class="op">=</span> df.describe()</span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a>description</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>         calcium      sodium
count  18.000000   18.000000
mean    3.174301  115.167484
std     1.306652   10.756852
min     0.715811   97.931489
25%     2.610699  107.385212
50%     3.364195  115.122615
75%     3.706355  122.734200
max     5.652390  134.052390</code></pre>
</div>
<p style="text-align: justify;">
The <code>describe</code> function produces a new DataFrame (here called
‘description’) that contains the number of samples, the mean, the
standard deviation, 25th, 50th, 75th percentile, and the minimum and
maximum values for each column of the data. Note that the indices of the
rows have now been replaced by strings. To access rows, it is possible
to refer to those names using the <code>loc</code> property. Thus, in
order to access the mean of the calcium concentrations from the
description, each of the following is valid:
</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="co"># Option 1</span></span>
<span id="cb48-2"><a href="#cb48-2" tabindex="-1"></a>description.loc[<span class="st">'mean'</span>][<span class="st">'calcium'</span>]</span>
<span id="cb48-3"><a href="#cb48-3" tabindex="-1"></a></span>
<span id="cb48-4"><a href="#cb48-4" tabindex="-1"></a><span class="co"># Option 2</span></span>
<span id="cb48-5"><a href="#cb48-5" tabindex="-1"></a>description.loc[<span class="st">'mean'</span>][<span class="dv">0</span>]</span>
<span id="cb48-6"><a href="#cb48-6" tabindex="-1"></a></span>
<span id="cb48-7"><a href="#cb48-7" tabindex="-1"></a><span class="co"># Option 3</span></span>
<span id="cb48-8"><a href="#cb48-8" tabindex="-1"></a>description[<span class="st">'calcium'</span>][<span class="st">'mean'</span>]</span>
<span id="cb48-9"><a href="#cb48-9" tabindex="-1"></a></span>
<span id="cb48-10"><a href="#cb48-10" tabindex="-1"></a><span class="co"># Option 4</span></span>
<span id="cb48-11"><a href="#cb48-11" tabindex="-1"></a>description[<span class="st">'calcium'</span>][<span class="dv">1</span>]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>np.float64(3.1743005405555555)
&lt;string&gt;:3: FutureWarning: Series.__getitem__ treating keys as positions is deprecated. In a future version, integer keys will always be treated as labels (consistent with DataFrame behavior). To access a value by position, use `ser.iloc[pos]`
np.float64(3.1743005405555555)
np.float64(3.1743005405555555)
np.float64(3.1743005405555555)</code></pre>
</div>
<div id="practice-exercise-4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="practice-exercise-4" class="callout-inner">
<h3 class="callout-title">Practice Exercise 4</h3>
<div class="callout-content">
<p style="text-align: justify;">
Use your own .csv dataset to practice. (If you don’t have a dataset at
hand, any excel table can be exported as .csv.) Firstly, read it into a
DataFrame, and proceed by checking its header, accessing individual
values or sets of values etc. Create a statistical summary using
<code>describe</code>, and check for missing values using
<code>.isnull</code>.
</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>[ad libitum]</p>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="iterating-through-the-columns"><strong>Iterating through the columns</strong><a class="anchor" aria-label="anchor" href="#iterating-through-the-columns"></a></h3>
<p>Now we know how to access all data in a DataFrame and how to get a
statistical summary statistics over each column.</p>
<p>Here is code to iterate through the columns and access the first two
concentrations:</p>
<div class="codewrapper sourceCode" id="cb50">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> df:</span>
<span id="cb50-2"><a href="#cb50-2" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" tabindex="-1"></a>    <span class="bu">print</span>(df[col][<span class="dv">0</span>:<span class="dv">2</span>])</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0    3.455582
1    3.669026
Name: calcium, dtype: float64
0    112.69098
1    125.66333
Name: sodium, dtype: float64</code></pre>
</div>
<p>As a slightly more complex example, we access the median (‘50%’) of
each column in the description, and add it to a list:</p>
<div class="codewrapper sourceCode" id="cb52">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a>conc_medians <span class="op">=</span> <span class="bu">list</span>()</span>
<span id="cb52-2"><a href="#cb52-2" tabindex="-1"></a></span>
<span id="cb52-3"><a href="#cb52-3" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> df:</span>
<span id="cb52-4"><a href="#cb52-4" tabindex="-1"></a></span>
<span id="cb52-5"><a href="#cb52-5" tabindex="-1"></a>    conc_medians.append(df[col].describe()[<span class="st">'50%'</span>])</span>
<span id="cb52-6"><a href="#cb52-6" tabindex="-1"></a></span>
<span id="cb52-7"><a href="#cb52-7" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The columns are: '</span>, <span class="bu">list</span>(df.columns))</span>
<span id="cb52-8"><a href="#cb52-8" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The medians are: '</span>, conc_medians)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The columns are:  ['calcium', 'sodium']
The medians are:  [np.float64(3.3641954), np.float64(115.122615)]</code></pre>
</div>
<p style="text-align: justify;">
This approach is useful for DataFrames with a larger number of columns.
For instance, it is possible to follow this by creating a boxplot or
histogram for the means, medians etc. of the DataFrame, thus giving a
comprehensive overview of all (comparable) columns.
</p>
</div>
<div class="section level3">
<h3 id="selecting-a-subset-based-on-a-template"><strong>Selecting a subset based on a template</strong><a class="anchor" aria-label="anchor" href="#selecting-a-subset-based-on-a-template"></a></h3>
<p style="text-align: justify;">
Often, an analysis of a dataset may required on only part of the data.
This can often be formulated by using a logical condition which
specifies the required subset.
</p>
<p style="text-align: justify;">
For this we will assume that some of the data are labelled ‘0’ and some
are labelled ‘1’. Let us therefore see how to add a new column to our
Evereleys DataFrame, which contains the labels (which are, in this
example, arbitrary).
</p>
<p style="text-align: justify;">
Firstly, we can randomly create as many labels as we have rows in the
DataFrame. We can use the <kbd>randint</kbd> function, which can be
imported from the <kbd>numpy.random</kbd> module of the NumPy library.
In its simplest form, the <kbd>randint</kbd> function accepts two
arguments. Firstly, the upper bound of the integer needed, which
defaults to zero. As Python is exclusive of the upper bound, providing
‘2’ will thus yield either ‘0’ or ‘1’ only.
</p>
<div class="codewrapper sourceCode" id="cb54">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a><span class="im">from</span> numpy.random <span class="im">import</span> randint</span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a></span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a>no_rows <span class="op">=</span> <span class="bu">len</span>(df)</span>
<span id="cb54-4"><a href="#cb54-4" tabindex="-1"></a></span>
<span id="cb54-5"><a href="#cb54-5" tabindex="-1"></a>randomLabel <span class="op">=</span> randint(<span class="dv">2</span>, size<span class="op">=</span>no_rows)</span>
<span id="cb54-6"><a href="#cb54-6" tabindex="-1"></a></span>
<span id="cb54-7"><a href="#cb54-7" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Number of rows:  '</span>, no_rows)</span>
<span id="cb54-8"><a href="#cb54-8" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Number of Labels:'</span>, <span class="bu">len</span>(randomLabel))</span>
<span id="cb54-9"><a href="#cb54-9" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Labels:          '</span>, randomLabel)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Number of rows:   18
Number of Labels: 18
Labels:           [1 0 1 1 0 1 1 0 1 1 0 1 1 1 0 1 0 0]</code></pre>
</div>
<p>Note how we obtain the number of rows (18) using <kbd>len</kbd>
function and do not explicitly state it in the code.</p>
<p style="text-align: justify;">
Next, we must create a new data column in our <code>df</code> DataFrame
which contains the labels. In order to create a new column, you may
simply refer to a column name that does not yet exist, and subsequently
assign values to it. Let us call it ‘gender’, assuming that ‘0’
represents male and ‘1’ represents female.
</p>
<p>As gender specification can include more than two labels, try to
create a column with more than two randomly assigned labels e.g. (0, 1,
2).</p>
<div class="codewrapper sourceCode" id="cb56">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a>df[<span class="st">'gender'</span>] <span class="op">=</span> randomLabel</span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" tabindex="-1"></a>df.head()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>    calcium      sodium  gender
0  3.455582  112.690980       1
1  3.669026  125.663330       0
2  2.789910  105.821810       1
3  2.939900   98.172772       1
4  5.426060   97.931489       0</code></pre>
</div>
<p style="text-align: justify;">
Now we can use the information contained in ‘gender’ to filter the data
by gender. To achieve this, we use a conditional statement. Let us check
which of the rows are labelled as ‘1’:
</p>
<div class="codewrapper sourceCode" id="cb58">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a>df[<span class="st">'gender'</span>] <span class="op">==</span> <span class="dv">1</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0      True
1     False
2      True
3      True
4     False
5      True
6      True
7     False
8      True
9      True
10    False
11     True
12     True
13     True
14    False
15     True
16    False
17    False
Name: gender, dtype: bool</code></pre>
</div>
<p style="text-align: justify;">
If we assign the result of the conditional statement (a boolean: True or
False) to a variable, then this variable can act as a template to filter
the data. If we call the DataFrame with that variable, we will only get
the rows where the condition was found to be True:
</p>
<div class="codewrapper sourceCode" id="cb60">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a>df_female <span class="op">=</span> df[<span class="st">'gender'</span>] <span class="op">==</span> <span class="dv">1</span></span>
<span id="cb60-2"><a href="#cb60-2" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" tabindex="-1"></a>df[df_female]</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>     calcium      sodium  gender
0   3.455582  112.690980       1
2   2.789910  105.821810       1
3   2.939900   98.172772       1
5   0.715811  120.858330       1
6   5.652390  112.871500       1
8   4.300067  132.031720       1
9   1.369419  118.499010       1
11  2.894129  134.052390       1
12  3.664987  105.346410       1
13  1.362779  123.359490       1
15  1.865868  112.075420       1</code></pre>
</div>
<p>Using the boolean, we only pick the rows that are labelled ‘1’ and
thus get a subset of the data according to the label.</p>
<div id="practice-exercise-5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="practice-exercise-5" class="callout-inner">
<h3 class="callout-title">Practice Exercise 5</h3>
<div class="callout-content">
<p><strong>Using a template</strong></p>
<p>Modify the code to calculate the number of samples labelled 0 and
check the number of rows of that subset.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb62">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="im">from</span> numpy.random <span class="im">import</span> randint</span>
<span id="cb62-2"><a href="#cb62-2" tabindex="-1"></a>no_rows <span class="op">=</span> <span class="bu">len</span>(df)</span>
<span id="cb62-3"><a href="#cb62-3" tabindex="-1"></a>randomLabel <span class="op">=</span> randint(<span class="dv">2</span>, size<span class="op">=</span>no_rows)</span>
<span id="cb62-4"><a href="#cb62-4" tabindex="-1"></a>df[<span class="st">'gender'</span>] <span class="op">=</span> randomLabel</span>
<span id="cb62-5"><a href="#cb62-5" tabindex="-1"></a>df_male <span class="op">=</span> df[<span class="st">'gender'</span>] <span class="op">==</span> <span class="dv">0</span></span>
<span id="cb62-6"><a href="#cb62-6" tabindex="-1"></a>no_males <span class="op">=</span> <span class="bu">len</span>(df[df_male])</span>
<span id="cb62-7"><a href="#cb62-7" tabindex="-1"></a><span class="bu">print</span>(no_males, <span class="st">'samples are labelled "male".'</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>12 samples are labelled "male".</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="visualisation-of-data">Visualisation of data<a class="anchor" aria-label="anchor" href="#visualisation-of-data"></a></h2>
<hr class="half-width"><p style="text-align: justify;">
It is easy to see from the numbers that the concentrations of sodium are
much higher than those of calcium. However, to incorporate comparisons
of medians, percentiles and the spread of the data, it is better to use
visualisation.
</p>
<p style="text-align: justify;">
The simplest way to visualise data, is to use Pandas’ functionality
which offers direct methods of plotting your data. Here is an example
where a boxplot is created for each column:
</p>
<div class="codewrapper sourceCode" id="cb64">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a>df <span class="op">=</span> read_csv(<span class="st">"data/everleys_data.csv"</span>)</span>
<span id="cb64-2"><a href="#cb64-2" tabindex="-1"></a>df.boxplot()</span></code></pre>
</div>
<figure><img src="fig/01-data_frames_1-rendered-unnamed-chunk-34-1.png" width="672" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p style="text-align: justify;">
By default, boxplots are shown for all columns if no further argument is
given to the function (empty round parentheses). As the calcium plot is
quite condensed, we may wish to visualise it, separately. This can be
done by specifying the calcium column as an argument:
</p>
<div class="codewrapper sourceCode" id="cb65">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" tabindex="-1"></a><span class="co"># Boxplot of calcium results</span></span>
<span id="cb65-2"><a href="#cb65-2" tabindex="-1"></a>df.boxplot(column<span class="op">=</span><span class="st">'calcium'</span>)</span></code></pre>
</div>
<figure><img src="fig/01-data_frames_1-rendered-unnamed-chunk-35-3.png" width="672" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure></section><section><h2 class="section-heading" id="plots-using-matplotlib">Plots using Matplotlib<a class="anchor" aria-label="anchor" href="#plots-using-matplotlib"></a></h2>
<hr class="half-width"><blockquote>
<p><a href="https://matplotlib.org" class="external-link"><strong>Matplotlib</strong></a> is a
comprehensive library for creating static, animated and interactive
visualizations in Python.</p>
</blockquote>
<p style="text-align: justify;">
The above is an easy way to create boxplots directly on the DataFrame.
It is based on the library Matplotlib and specifically uses the
<strong>pyplot library</strong>. For simplicity, this code is put into a
convenient Pandas function.
</p>
<p style="text-align: justify;">
However, we are going to use <strong>Matplotlib</strong> extensively
later on in the course, and we will therefore start by introducing a
more direct and generic way of using it.
</p>
<p>To do this, we import the function <kbd>subplots</kbd> from the <a href="https://matplotlib.org/stable/api/pyplot_summary.html" class="external-link">pyplot
library</a>:</p>
<div class="codewrapper sourceCode" id="cb66">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="im">from</span> matplotlib.pyplot <span class="im">import</span> subplots, show</span></code></pre>
</div>
<p style="text-align: justify;">
The way to use <kbd>subplots</kbd> is to first set up a figure
environment (below referred to in the code as an object titled ‘fig’)
and an empty coordinate system (below referred to as object ‘ax’). The
plot is then created using one of the many methods available in
Matplotlib. We will proceed by applying it to the coordinate system,
‘ax’.
</p>
<p style="text-align: justify;">
As an example, let us create a <a href="https://matplotlib.org/api/_as_gen/matplotlib.pyplot.boxplot.html#matplotlib.pyplot.boxplot%7C" class="external-link">boxplot</a>
of the calcium variable. As an argument of the function we need to
specify the data. We can use the values of the ‘calcium’ concentrations
from the column with the same name:
</p>
<div class="codewrapper sourceCode" id="cb67">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots()</span>
<span id="cb67-2"><a href="#cb67-2" tabindex="-1"></a></span>
<span id="cb67-3"><a href="#cb67-3" tabindex="-1"></a>ax.boxplot(df[<span class="st">'calcium'</span>])</span>
<span id="cb67-4"><a href="#cb67-4" tabindex="-1"></a></span>
<span id="cb67-5"><a href="#cb67-5" tabindex="-1"></a>ax.set_title(<span class="st">'Boxplot of Everley Calcium'</span>)</span>
<span id="cb67-6"><a href="#cb67-6" tabindex="-1"></a></span>
<span id="cb67-7"><a href="#cb67-7" tabindex="-1"></a>show()</span></code></pre>
</div>
<figure><img src="fig/01-data_frames_1-rendered-unnamed-chunk-37-5.png" width="672" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Note how we define the title of the plot by referring to the same
coordinate system <code>ax</code>.</p>
<p>The value of <kbd>subplots</kbd> becomes apparent when it is used to
generate more than one plot as part of a single figure: one of its many
useful features.</p>
<p style="text-align: justify;">
Here is an example whereby we create two boxplots adjacent to each
other. The keyword arguments to use is ‘ncols’ which is the number of
figures per row. ‘ncols=2’ indicates that you are plotting two plots
adjacent to each other.
</p>
<div class="codewrapper sourceCode" id="cb68">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(ncols<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb68-2"><a href="#cb68-2" tabindex="-1"></a></span>
<span id="cb68-3"><a href="#cb68-3" tabindex="-1"></a>ax[<span class="dv">0</span>].boxplot(df[<span class="st">'calcium'</span>])</span>
<span id="cb68-4"><a href="#cb68-4" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">'Calcium'</span>)</span>
<span id="cb68-5"><a href="#cb68-5" tabindex="-1"></a></span>
<span id="cb68-6"><a href="#cb68-6" tabindex="-1"></a>ax[<span class="dv">1</span>].boxplot(df[<span class="st">'sodium'</span>])</span>
<span id="cb68-7"><a href="#cb68-7" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">'Sodium'</span>)<span class="op">;</span></span>
<span id="cb68-8"><a href="#cb68-8" tabindex="-1"></a></span>
<span id="cb68-9"><a href="#cb68-9" tabindex="-1"></a>show()</span></code></pre>
</div>
<figure><img src="fig/01-data_frames_1-rendered-unnamed-chunk-38-7.png" width="672" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Each of these subplots must now be referred to using indexing the
coordinate system ‘ax’. This figure gives a good overview of the
Everley’s data.</p>
<p>If you prefer to have the boxplots of both columns in a single
figure, this can also be done:</p>
<div class="codewrapper sourceCode" id="cb69">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(ncols<span class="op">=</span><span class="dv">1</span>, nrows<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb69-2"><a href="#cb69-2" tabindex="-1"></a></span>
<span id="cb69-3"><a href="#cb69-3" tabindex="-1"></a>ax.boxplot([df[<span class="st">'calcium'</span>], df[<span class="st">'sodium'</span>]], positions<span class="op">=</span>[<span class="dv">1</span>, <span class="dv">2</span>])</span>
<span id="cb69-4"><a href="#cb69-4" tabindex="-1"></a>ax.set_title(<span class="st">'Boxplot of Calcium (left) and Sodium (right)'</span>)</span>
<span id="cb69-5"><a href="#cb69-5" tabindex="-1"></a></span>
<span id="cb69-6"><a href="#cb69-6" tabindex="-1"></a>show()</span></code></pre>
</div>
<figure><img src="fig/01-data_frames_1-rendered-unnamed-chunk-39-9.png" width="672" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><div id="practice-exercise-6" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="practice-exercise-6" class="callout-inner">
<h3 class="callout-title">Practice Exercise 6</h3>
<div class="callout-content">
<p><strong>Boxplot from Loan data</strong></p>
<p>Plot the boxplots of the ‘ApplicantIncome’ and the
‘CoapplicantIncome’ in the Loan data using the above code.</p>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb70">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(ncols<span class="op">=</span><span class="dv">1</span>, nrows<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb70-2"><a href="#cb70-2" tabindex="-1"></a>ax.boxplot([df_loan[<span class="st">'ApplicantIncome'</span>], df_loan[<span class="st">'CoapplicantIncome'</span>]], positions<span class="op">=</span>[<span class="dv">1</span>, <span class="dv">2</span>])</span>
<span id="cb70-3"><a href="#cb70-3" tabindex="-1"></a>ax.set_title(<span class="st">'Applicant Income (left) &amp; Co-Applicant Income (right)'</span>)<span class="op">;</span></span>
<span id="cb70-4"><a href="#cb70-4" tabindex="-1"></a></span>
<span id="cb70-5"><a href="#cb70-5" tabindex="-1"></a>show()</span></code></pre>
</div>
<figure><img src="fig/01-data_frames_1-rendered-unnamed-chunk-40-11.png" width="672" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure></div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="histogram"><strong>Histogram</strong><a class="anchor" aria-label="anchor" href="#histogram"></a></h3>
<p style="text-align: justify;">
Another good visual overview for data is the histogram. Containers or
‘bins’ are created over the range of values found within a column, and
the count of the values for each bin is plotted on the vertical
(y-)axis.
</p>
<div class="codewrapper sourceCode" id="cb71">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(ncols<span class="op">=</span><span class="dv">2</span>, nrows<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb71-2"><a href="#cb71-2" tabindex="-1"></a></span>
<span id="cb71-3"><a href="#cb71-3" tabindex="-1"></a>ax[<span class="dv">0</span>].hist(df[<span class="st">'calcium'</span>])</span>
<span id="cb71-4"><a href="#cb71-4" tabindex="-1"></a>ax[<span class="dv">0</span>].<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">'Calcium'</span>, ylabel<span class="op">=</span><span class="st">'Count'</span>)<span class="op">;</span></span>
<span id="cb71-5"><a href="#cb71-5" tabindex="-1"></a></span>
<span id="cb71-6"><a href="#cb71-6" tabindex="-1"></a>ax[<span class="dv">1</span>].hist(df[<span class="st">'sodium'</span>])</span>
<span id="cb71-7"><a href="#cb71-7" tabindex="-1"></a>ax[<span class="dv">1</span>].<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">'Sodium'</span>, ylabel<span class="op">=</span><span class="st">'Count'</span>)<span class="op">;</span></span>
<span id="cb71-8"><a href="#cb71-8" tabindex="-1"></a></span>
<span id="cb71-9"><a href="#cb71-9" tabindex="-1"></a>fig.suptitle(<span class="st">'Histograms of Everley concentrations'</span>, fontsize<span class="op">=</span><span class="dv">15</span>)<span class="op">;</span></span>
<span id="cb71-10"><a href="#cb71-10" tabindex="-1"></a></span>
<span id="cb71-11"><a href="#cb71-11" tabindex="-1"></a>show()</span></code></pre>
</div>
<figure><img src="fig/01-data_frames_1-rendered-unnamed-chunk-41-13.png" width="672" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>This example code also demonstrates how to use methods from within
subplots to add labels to the axes, together with a title for the
overall figure.</p>
<p>Unless specified, a default value is used for the generation of the
bins. It is set to 10 bins over the range of which values are found. The
number of bins in the histogram can be changed using the keyword
argument ‘bins’:</p>
<div class="codewrapper sourceCode" id="cb72">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(ncols<span class="op">=</span><span class="dv">2</span>, nrows<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb72-2"><a href="#cb72-2" tabindex="-1"></a></span>
<span id="cb72-3"><a href="#cb72-3" tabindex="-1"></a>ax[<span class="dv">0</span>].hist(df[<span class="st">'calcium'</span>], bins<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb72-4"><a href="#cb72-4" tabindex="-1"></a>ax[<span class="dv">0</span>].<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">'Calcium, 5 bins'</span>, ylabel<span class="op">=</span><span class="st">'Count'</span>)<span class="op">;</span></span>
<span id="cb72-5"><a href="#cb72-5" tabindex="-1"></a></span>
<span id="cb72-6"><a href="#cb72-6" tabindex="-1"></a>ax[<span class="dv">1</span>].hist(df[<span class="st">'calcium'</span>], bins<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb72-7"><a href="#cb72-7" tabindex="-1"></a>ax[<span class="dv">1</span>].<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">'Calcium, 15 bins'</span>, ylabel<span class="op">=</span><span class="st">'Count'</span>)<span class="op">;</span></span>
<span id="cb72-8"><a href="#cb72-8" tabindex="-1"></a>fig.suptitle(<span class="st">'Histograms with Different Binnings'</span>, fontsize<span class="op">=</span><span class="dv">16</span>)<span class="op">;</span></span>
<span id="cb72-9"><a href="#cb72-9" tabindex="-1"></a></span>
<span id="cb72-10"><a href="#cb72-10" tabindex="-1"></a>show()</span></code></pre>
</div>
<figure><img src="fig/01-data_frames_1-rendered-unnamed-chunk-42-15.png" width="672" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>Note how the y-axis label of the right figure is slightly misplaced,
and overlapping the border of the left figure. In order to correct for
the placement of the labels and the title, you can use
<code>tight_layout</code> automatically adjust for this:</p>
<div class="codewrapper sourceCode" id="cb73">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots(ncols<span class="op">=</span><span class="dv">2</span>, nrows<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb73-2"><a href="#cb73-2" tabindex="-1"></a></span>
<span id="cb73-3"><a href="#cb73-3" tabindex="-1"></a>ax[<span class="dv">0</span>].hist(df[<span class="st">'calcium'</span>], bins<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb73-4"><a href="#cb73-4" tabindex="-1"></a>ax[<span class="dv">0</span>].<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">'Calcium, 5 bins'</span>, ylabel<span class="op">=</span><span class="st">'Count'</span>)<span class="op">;</span></span>
<span id="cb73-5"><a href="#cb73-5" tabindex="-1"></a></span>
<span id="cb73-6"><a href="#cb73-6" tabindex="-1"></a>ax[<span class="dv">1</span>].hist(df[<span class="st">'calcium'</span>], bins<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb73-7"><a href="#cb73-7" tabindex="-1"></a>ax[<span class="dv">1</span>].<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">'Calcium, 15 bins'</span>, ylabel<span class="op">=</span><span class="st">'Count'</span>)<span class="op">;</span></span>
<span id="cb73-8"><a href="#cb73-8" tabindex="-1"></a>fig.suptitle(<span class="st">'Histograms with Different Binnings'</span>, fontsize<span class="op">=</span><span class="dv">16</span>)<span class="op">;</span></span>
<span id="cb73-9"><a href="#cb73-9" tabindex="-1"></a>fig.tight_layout()</span>
<span id="cb73-10"><a href="#cb73-10" tabindex="-1"></a></span>
<span id="cb73-11"><a href="#cb73-11" tabindex="-1"></a>show()</span></code></pre>
</div>
<figure><img src="fig/01-data_frames_1-rendered-unnamed-chunk-43-17.png" width="672" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><div id="practice-exercise-7" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="practice-exercise-7" class="callout-inner">
<h3 class="callout-title">Practice Exercise 7:</h3>
<div class="callout-content">
<p><strong>Create the histogram of a column</strong></p>
<p>Take the loan data and display the histogram of the loan amount that
people asked for. (Loan amounts are divided by 1000, i.e. in k£ on the
horizontal axis). Use 20 bins, as an example.</p>
</div>
</div>
</div>
<div id="accordionSolution7" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution7" aria-expanded="false" aria-controls="collapseSolution7">
  <h4 class="accordion-header" id="headingSolution7"> Show me the solution </h4>
</button>
<div id="collapseSolution7" class="accordion-collapse collapse" data-bs-parent="#accordionSolution7" aria-labelledby="headingSolution7">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb74">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" tabindex="-1"></a><span class="co"># Histogram of loan amounts in k£</span></span>
<span id="cb74-2"><a href="#cb74-2" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots()</span>
<span id="cb74-3"><a href="#cb74-3" tabindex="-1"></a>ax.hist(df_loan[<span class="st">'LoanAmount'</span>], bins<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb74-4"><a href="#cb74-4" tabindex="-1"></a>ax.<span class="bu">set</span>(xlabel<span class="op">=</span><span class="st">'Loan amount'</span>, ylabel<span class="op">=</span><span class="st">'Count'</span>)<span class="op">;</span></span>
<span id="cb74-5"><a href="#cb74-5" tabindex="-1"></a>ax.set_title(<span class="st">'Histograms of Loan Amounts'</span>, fontsize<span class="op">=</span><span class="dv">16</span>)<span class="op">;</span></span>
<span id="cb74-6"><a href="#cb74-6" tabindex="-1"></a></span>
<span id="cb74-7"><a href="#cb74-7" tabindex="-1"></a>show()</span></code></pre>
</div>
<figure><img src="fig/01-data_frames_1-rendered-unnamed-chunk-44-19.png" width="672" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure></div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="handling-the-diabetes-dataset">Handling the Diabetes Dataset<a class="anchor" aria-label="anchor" href="#handling-the-diabetes-dataset"></a></h2>
<hr class="half-width"><p>Let us return to the dataset that commenced our exploration of the
handling of data within a DataFrame.</p>
<p>Next, we will:</p>
<ul><li>Import the diabetes data from ‘sklearn’</li>
<li>Check the shape of the DataFrame and search for NANs</li>
<li>Get a summary plot of one of its statistical quantities (i.e. mean)
for all columns</li>
</ul><p>Firstly, let’s import the dataset and check its <code>head</code>. In
some cases, this may take a moment: please be patient, and wait for the
numbers to appear as output below your code cell (if you’re using an
IDE).</p>
<div class="codewrapper sourceCode" id="cb75">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" tabindex="-1"></a><span class="im">from</span> sklearn <span class="im">import</span> datasets</span>
<span id="cb75-2"><a href="#cb75-2" tabindex="-1"></a></span>
<span id="cb75-3"><a href="#cb75-3" tabindex="-1"></a>diabetes <span class="op">=</span> datasets.load_diabetes()</span>
<span id="cb75-4"><a href="#cb75-4" tabindex="-1"></a></span>
<span id="cb75-5"><a href="#cb75-5" tabindex="-1"></a>X <span class="op">=</span> diabetes.data</span>
<span id="cb75-6"><a href="#cb75-6" tabindex="-1"></a></span>
<span id="cb75-7"><a href="#cb75-7" tabindex="-1"></a><span class="im">from</span> pandas <span class="im">import</span> DataFrame</span>
<span id="cb75-8"><a href="#cb75-8" tabindex="-1"></a></span>
<span id="cb75-9"><a href="#cb75-9" tabindex="-1"></a>df_diabetes <span class="op">=</span> DataFrame(data<span class="op">=</span>X)</span>
<span id="cb75-10"><a href="#cb75-10" tabindex="-1"></a></span>
<span id="cb75-11"><a href="#cb75-11" tabindex="-1"></a>df_diabetes.head()</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>          0         1         2  ...         7         8         9
0  0.038076  0.050680  0.061696  ... -0.002592  0.019907 -0.017646
1 -0.001882 -0.044642 -0.051474  ... -0.039493 -0.068332 -0.092204
2  0.085299  0.050680  0.044451  ... -0.002592  0.002861 -0.025930
3 -0.089063 -0.044642 -0.011595  ...  0.034309  0.022688 -0.009362
4  0.005383 -0.044642 -0.036385  ... -0.002592 -0.031988 -0.046641

[5 rows x 10 columns]</code></pre>
</div>
<p>If you don’t see all the columns, use the cursor to scroll to the
right. Next, let’s check the number of columns and rows.</p>
<div class="codewrapper sourceCode" id="cb77">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" tabindex="-1"></a>no_rows <span class="op">=</span> <span class="bu">len</span>(df_diabetes)</span>
<span id="cb77-2"><a href="#cb77-2" tabindex="-1"></a>no_cols <span class="op">=</span> <span class="bu">len</span>(df_diabetes.columns)</span>
<span id="cb77-3"><a href="#cb77-3" tabindex="-1"></a></span>
<span id="cb77-4"><a href="#cb77-4" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Rows:'</span>, no_rows, <span class="st">'Columns:'</span>, no_cols)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Rows: 442 Columns: 10</code></pre>
</div>
<p>There are 442 rows organised in 10 columns.</p>
<p>In order o obtain an overview, let us extract the mean of each column
using the <kbd>describe</kbd> and plot all means as a bar chart. The
Matplotlib function to plot a bar chart is called <kbd>bar</kbd>:</p>
<div class="codewrapper sourceCode" id="cb79">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" tabindex="-1"></a>conc_means <span class="op">=</span> <span class="bu">list</span>()</span>
<span id="cb79-2"><a href="#cb79-2" tabindex="-1"></a></span>
<span id="cb79-3"><a href="#cb79-3" tabindex="-1"></a><span class="cf">for</span> col <span class="kw">in</span> df_diabetes:</span>
<span id="cb79-4"><a href="#cb79-4" tabindex="-1"></a>    conc_means.append(df_diabetes[col].describe()[<span class="st">'mean'</span>])</span>
<span id="cb79-5"><a href="#cb79-5" tabindex="-1"></a></span>
<span id="cb79-6"><a href="#cb79-6" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The columns are: '</span>, <span class="bu">list</span>(df_diabetes.columns))</span>
<span id="cb79-7"><a href="#cb79-7" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'The medians are: '</span>, conc_means, <span class="dv">2</span>)</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>The columns are:  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
The medians are:  [np.float64(-2.511816797794472e-19), np.float64(1.2307902309192911e-17), np.float64(-2.2455642172282577e-16), np.float64(-4.7975700837874414e-17), np.float64(-1.3814992387869595e-17), np.float64(3.918434204559376e-17), np.float64(-5.7771786349272854e-18), np.float64(-9.042540472060099e-18), np.float64(9.293722151839546e-17), np.float64(1.1303175590075123e-17)] 2</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb81">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" tabindex="-1"></a>fig, ax <span class="op">=</span> subplots()</span>
<span id="cb81-2"><a href="#cb81-2" tabindex="-1"></a></span>
<span id="cb81-3"><a href="#cb81-3" tabindex="-1"></a>bins <span class="op">=</span> <span class="bu">range</span>(<span class="dv">10</span>)</span>
<span id="cb81-4"><a href="#cb81-4" tabindex="-1"></a></span>
<span id="cb81-5"><a href="#cb81-5" tabindex="-1"></a>ax.bar(bins, conc_means)<span class="op">;</span></span>
<span id="cb81-6"><a href="#cb81-6" tabindex="-1"></a></span>
<span id="cb81-7"><a href="#cb81-7" tabindex="-1"></a>show()</span></code></pre>
</div>
<figure><img src="fig/01-data_frames_1-rendered-unnamed-chunk-48-21.png" width="672" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p style="text-align: justify;">
Note how the bars in this plot go up and down. The vertical axis,
however, has values ranging from -10<sup>(-16)</sup> to
+10<sup>(-16)</sup>. This means that, for all practical purposes, all
means are zero which is not a coincidence. The original values have been
normalised to mean zero for the purpose of applying a machine learning
algorithm to them.
</p>
<p>In this example, we can clearly observe the importance of checking
the data before working with them.</p>
</section><section><h2 class="section-heading" id="exercises">Exercises<a class="anchor" aria-label="anchor" href="#exercises"></a></h2>
<hr class="half-width"><div id="end-of-chapter-exercises" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="end-of-chapter-exercises" class="callout-inner">
<h3 class="callout-title">End of chapter Exercises</h3>
<div class="callout-content">
<p>Download the cervical cancer dataset provided, import it using
<code>read_csv</code>.</p>
<ol style="list-style-type: decimal"><li><p>How many rows and columns are there?</p></li>
<li><p>How many columns contain floating point numbers (type
float64)?</p></li>
<li><p>How many of the subjects are smokers?</p></li>
<li><p>Calculate the percentage of smokers</p></li>
<li><p>Plot the age distribution (with, for instance, 50 bins)</p></li>
<li><p>Get the mean and standard distribution of age of first sexual
intercourse</p></li>
</ol></div>
</div>
</div>
<div id="accordionSolution8" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution8" aria-expanded="false" aria-controls="collapseSolution8">
  <h4 class="accordion-header" id="headingSolution8"> Solutions are provided after assignments are marked. </h4>
</button>
<div id="collapseSolution8" class="accordion-collapse collapse" data-bs-parent="#accordionSolution8" aria-labelledby="headingSolution8">
<div class="accordion-body">

</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul><li>
<kbd>Pandas</kbd> package contains useful functions to work with
DataFrames.</li>
<li>The <kbd>iloc</kbd> property is used to index and slice a
DataFrame.</li>
<li>
<kbd>describe</kbd> function is used to obtain a statistical summary
of basic data features.</li>
<li>The simplest method for data visualisation, is to use Pandas’
in-built functionality.</li>
<li>
<code>Matplotlib</code> is a comprehensive library for creating
static, animated, and interactive visualizations, in Python.</li>
</ul></div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="index.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="02-data_frames_2.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="index.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Home
        </a>
        <a class="chapter-link float-end" href="02-data_frames_2.html" rel="next">
          Next: DataFrames - Part 2...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/carpentries/workbench-template-rmd/edit/main/episodes/01-data_frames_1.Rmd" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/carpentries/workbench-template-rmd/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries/workbench-template-rmd/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries/workbench-template-rmd/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/69aaefee46a17928e2a1694825599e169b9793e3" class="external-link">sandpaper (0.16.10)</a>, <a href="https://github.com/carpentries/pegboard/tree/bad0be19a12f0c6545801b276ddf26c945f8bfd1" class="external-link">pegboard (0.7.7)</a>, and <a href="https://github.com/milanmlft/varnish/tree/milanmlft/sticky-sidebar" class="external-link">varnish (1.0.3.9000)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries.github.io/workbench-template-rmd/01-data_frames_1.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "DataFrames - Part 1",
  "creativeWorkStatus": "active",
  "url": "https://carpentries.github.io/workbench-template-rmd/01-data_frames_1.html",
  "identifier": "https://carpentries.github.io/workbench-template-rmd/01-data_frames_1.html",
  "dateCreated": "2022-06-14",
  "dateModified": "2024-12-08",
  "datePublished": "2024-12-08"
}

  </script><script>
		feather.replace();
	</script></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

